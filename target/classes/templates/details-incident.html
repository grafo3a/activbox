<!DOCTYPE html>

<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8"></meta>
<title>[ActivBox] Détails incident</title>

<link rel="stylesheet" href="css/bootstrap.css" />
<link rel="stylesheet" href="css/bootstrap-icons.css" />
<link rel="stylesheet" href="css/main.css" />
<link rel="icon" type="image/png" href="favicon.png" />
<!--
<script type="text/javascript" src="js/main.js"></script>
-->
</head>

<body>

<!--==== RECHERCHE D'UN INCIDENT ====-->

<h1>Bienvenue sur ActivBox</h1>


<form action="details-incident" method="post">

<label>Numéro de ticket: </label>

<input type="text" id="numeroTicket" name="numeroTicket" />

<input type="submit" value="Submit" />

</form>

<div th:if="${messageErreur} != null">
<span class="text-danger" th:text="${messageErreur}"></span>
</div>
<div th:if="${messageSucces} != null">
<span class="text-success" th:text="${messageSucces}"></span>
</div>


<!--==== AFFICHAGE DES DETAILS D'UN INCIDENT ====

<div th:unless="${incidentAller} == null">
-->
<div th:if="${incidentAller} != null">

<div class="container row m-4">
<h1>Détails d'un incident</h1>
</div>


<div class="container row m-4">

<!--==== Colonne A ====-->
<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">

<div class="row">
<span class="col-5 cadre">Numéro de ticket</span>
<span class="col-5 cadre" th:text="${incidentAller.col02NumeroTicket}"></span>


<span class="col-5 cadre">Agent initial</span>
<span class="col-5 cadre" th:text="${incidentAller.col04AgentInitial}"></span>

<span class="col-5 cadre">Demandeur</span>
<span class="col-5 cadre" th:text="${incidentAller.col05Demandeur}"></span>

<span class="col-5 cadre">Equipe-en-charge</span>
<span class="col-5 cadre" th:text="${incidentAller.col12EquipeEnCharge}"></span>


<span class="col-5 cadre">Agent-en-charge</span>
<span class="col-5 cadre" th:text="${incidentAller.col13AgentEnCharge}"></span>

<span class="col-5 cadre">Moment-de-création</span>
<span class="col-5 cadre" th:text="${incidentAller.col09MomentCreation}"></span>
</div>
</div>


<!--==== Colonne B ====-->
<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">

<div class="row">

<span class="col-5 cadre">Priorité</span>
<span class="col-5 cadre" th:text="${incidentAller.col10Prioriteh}"></span>

<span class="col-5 cadre">Etat</span>
<span class="col-5 cadre" th:text="${incidentAller.col11Etat}"></span>

<span class="col-5 cadre">Catégorie</span>
<span class="col-5 cadre" th:text="${incidentAller.col07Categorie}"></span>

<span class="col-5 cadre">Code-produit</span>
<span class="col-5 cadre" th:text="${incidentAller.col08Produit}"></span>

<span class="col-5 cadre">Moment-SLA</span>
<span class="col-5 cadre" th:text="${incidentAller.col14MomentSLA}"></span>

</div>
</div>
</div>


<div class="container row m-4">
<div class="cadre">Sujet</div>
<div class="cadre" th:text="${incidentAller.col15Sujet}"></div>
</div>

<div class="container row m-4">
<div class="cadre">Description</div>
<div class="cadre" th:text="${incidentAller.col16Description}"></div>
</div>


<div class="container row m-4">

<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
<div class="row">
<span class="col-5 cadre">Moment-fin</span>
<span class="col-5 cadre" th:text="${incidentAller.col17MomentFin}"></span>
</div>
</div>
</div>


<div class="container row m-4">
<div class="cadre">Message-de-résolution</div>
<div class="cadre" th:text="${incidentAller.col18MessageResolution}"></div>
</div>




<!--==== MANIP DE NOTES ====-->

<div>
<form action="new-note-incident" method="post">

<label>Ajoutez une note: </label>
<input type="hidden" id="col02NumeroIncident" name="col02NumeroIncident"
		th:value="${incidentAller.col02NumeroTicket}">

<input type="hidden" id="col04Auteur" name="col04Auteur"
		th:value="${auteurActuel}">

<input type="text" id="col05Message" name="col05Message" />

<input type="submit" value="Valider" />

</form>
</div>


<!--==== AFFICHAGE DE NOTES ====-->
<h2>Notes</h2>
<table class="table table-striped table-sm mt-4">
<tbody>
    <tr th:each="tableauNote: ${listeNotes}">
        <td th:text="${tableauNote[0]}" />
        <td th:text="${tableauNote[1]}" />
    </tr>
</tbody>
</table>

</div>





<p>
<a href="/">Retour à l'accueil</a>
</p>


</body>
</html>
