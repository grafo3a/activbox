<!DOCTYPE html>

<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8"></meta>
<title>[ActivBox] Details incident</title>

<link th:replace="fragments/head.html" />
</head>

<body>

<div class="contenu border-top-radius-10px border-bottom-radius-10px">

<header th:insert="fragments/entete.html">
</header>


<main class="paddings-standard">

	<div class="text-end pt-2 pb-2">
		<span class="titre-page h3">Liste de tickets</span>
	</div>
	
	<div class="zone-infos">
		
		<!-- En cas d'erreur -->
		<div th:if="${messageErreur} != null"
			class="alert alert-danger text-center p-1 message-alert" th:text="${messageErreur}">
		</div>
		
		<!-- En cas de liste vide -->
		<div th:if="${messageInfo} != null"
			class="alert alert-info text-center p-1 message-alert" th:text="${messageInfo}">
		</div>
		
		<div th:if="${listeIncidents} != null">
			
			<div>INCIDENTS</div>
			
			<table class="table table-striped table-sm mt-2">
			<thead>
				<tr>
					<th class="pb-2"><span>Numéro</span></th>
					<th class="pb-2"><span>Moment création</span></th>
					<th class="pb-2"><span>Priorité</span></th>
					<th class="pb-2"><span>Statut</span></th>
					<th class="pb-2"><span>Equipe en charge</span></th>
					<th class="pb-2"><span>Sujet</span></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="inc: ${listeIncidents}">
					<td>
						<a th:href="@{/affichage-incident-{id}(id=${inc.col02NumeroTicket})}"
							th:text="${inc.col02NumeroTicket}">
						</a>
					</td>			
					<td th:text="${inc.col091MomentCreationPourAffichage}" />
					<td th:text="${inc.col10Prioriteh}" />
					<td th:text="${inc.col11Etat}" />
					<td th:text="${inc.col12EquipeEnCharge}" />
					<td th:text="${inc.col15Sujet}" />
				</tr>
			</tbody>
			</table>
		</div>
		
		<div th:if="${listeChangements} != null">
			
			<div th:if="${listeIncidents} != null" class="p-4"></div>
			
			<div>CHANGEMENTS</div>
			
			<table class="table table-striped table-sm mt-2">
			<thead>
				<tr>
					<th class="pb-2"><span>Numéro</span></th>
					<th class="pb-2"><span>Moment création</span></th>
					<th class="pb-2"><span>Priorité</span></th>
					<th class="pb-2"><span>Statut</span></th>
					<th class="pb-2"><span>Equipe en charge</span></th>
					<th class="pb-2"><span>Sujet</span></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="chan: ${listeChangements}">
					<td>
						<a th:href="@{/affichage-changement-{id}(id=${chan.col02NumeroTicket})}"
							th:text="${chan.col02NumeroTicket}">
						</a>
					</td>
					<td th:text="${chan.col091MomentCreationPourAffichage}" />
					<td th:text="${chan.col10Prioriteh}" />
					<td th:text="${chan.col11Etat}" />
					<td th:text="${chan.col12EquipeEnCharge}" />
					<td th:text="${chan.col15Sujet}" />
				</tr>
			</tbody>
			</table>
		</div>
	</div>
</main>

<footer th:insert="fragments/pied-de-page.html"></footer>

</div>

</body>
</html>
